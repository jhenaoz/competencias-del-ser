<html xmlns:th="http://www.thymeleaf.org">
<meta charset="UTF-8">
<head>
    <style>
        input[type=text], input[type=password], select {
        width: 100%;
        padding: 12px 20px;
        margin: 8px 0;
        display: inline-block;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
        height: 20px;
        font-family: "arial";
        }

        input[type=submit], input[type=button] {
            width: 100%;
            background-color: #134C96;
            color: white;
            padding: 14px 20px;
            margin: 8px 0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-family: "arial";
        }

        input[type=submit], input[type=button]:hover {
            background-color: #5CB85C;
            color: #FFF;
        }

        body {
            background-color: #f2f2f2;
        }

        div.login {
            display: flex;
            display: -webkit-flex;
            height: 100%;
            width: 100%;
            align-items: center;
            justify-content: center;
        }

        div.form {
            padding: 20px;
            width: 500px;
            height: 270px;
            font-family: "arial";
        }

        a {
            color: #134C96;
            font-family: "arial";
            font-size: 13px;
            text-decoration: none;
        }

        .navbar {
          height: 70px;
          background-color: #134C96;
          border-radius: 0 !important;
        }

        .admin-header{
          font-weight: bold;
          font-family: arial;
          color: white;
          position: relative;
          top: 20%;
          padding-left: 1%;
        }

        .logo {
          height: 35px;
          float:right;
          top: 20%;
          position: relative;
          right: 1%;
        }

        .password-links {
            margin: auto;
            width: 50%;
        }

        p[class=error], div[class=error] {
         color: red;
        }
    </style>
    <title>Cambiar contraseña</title>
</head>
<body>
<nav class="navbar">
    <img class="logo" alt="logo" src="/assets/images/logo.png">
    <h1 class="Admin-Header">Cambiar contraseña</h1>
</nav>
<div class="login">
    <div class="form">
        <form name="f" action="/api/password/change" method="post" id="form">
                Antigua contraseña o token:<br>
                <input type="password" id="oldPassword" name="oldPassword" placeholder="Antigua contraseña"><br>
                Nueva contraseña:<br>
                <input type="password" id="newPassword" name="newPassword" placeholder="Nueva contraseña"><br>
                Repetir nueva contraseña:<br>
                <input type="password" id="repeated" placeholder="Repetir contraseña"><br><br>
                <div th:if="${param.error}" class="error">
                    Contraseña invalida
                </div>
                <p id="error" class="error"></p>
                <input type="button" value="Guardar" onclick="verify()">
        </form>
    </div>
</div>
</body>
<script>
    function verify(){
        if (document.getElementById('newPassword').value
            === document.getElementById('repeated').value) {
                document.getElementById("error").innerHTML = "";
                document.getElementById('form').submit()
            }else {
                document.getElementById("error").innerHTML = "Los campos de la nueva contraseña deben coincidir";
            }
    }
</script>
</html>